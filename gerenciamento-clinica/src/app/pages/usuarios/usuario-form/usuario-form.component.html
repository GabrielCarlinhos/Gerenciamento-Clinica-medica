<app-header></app-header>

<div class="container-fluid p-5">
  <h2>Cadastro de Conta</h2>
  <form [formGroup]="form" (submit)="submit()" #formDirective="ngForm">
    <div class="d-flex flex-column">
      <mat-form-field class="vertical-form-field">
        <mat-label for="no_usuario">Login</mat-label>
        <input matInput formControlName="no_usuario" maxlength="24">
        <mat-error *ngIf="form.get('no_usuario')?.hasError('required')">{{genericRequired}}</mat-error>
      </mat-form-field>
      <mat-form-field class="vertical-form-field">
        <mat-label for="ds_senha">Senha</mat-label>
        <input matInput formControlName="ds_senha" type="password" maxlength="24">
        <mat-hint>Senha deve conter ao menos 8 caracteres, um número, uma letra maiúscula e minúscula</mat-hint>
        <mat-error *ngIf="form.get('ds_senha')?.hasError('required')">{{genericRequired}}</mat-error>
        <mat-error *ngIf="form.get('ds_senha')?.hasError('invalidPassword')">Senha Inválida</mat-error>
      </mat-form-field>
      <mat-form-field class="vertical-form-field">
        <mat-label for="ds_confirma_senha">confirme a Senha</mat-label>
        <input matInput formControlName="ds_confirma_senha" type="password" maxlength="24">
        <mat-error *ngIf="form.get('ds_confirma_senha')?.hasError('mismatch')">Senhas não coincidem</mat-error>
      </mat-form-field>
      <mat-form-field class="vertical-form-field">
        <mat-label for="ds_email">E-mail</mat-label>
        <input matInput formControlName="ds_email">
        <mat-error *ngIf="form.get('ds_email')?.hasError('required')">{{genericRequired}}</mat-error>
        <mat-error *ngIf="form.get('ds_email')?.hasError('email')">E-mail Inválido</mat-error>
      </mat-form-field>
      <mat-label for="ds_tipo_usuario">Tipo de usuário</mat-label>
      <mat-radio-group formControlName="ds_tipo_usuario">
        <mat-radio-button *ngFor="let type of types" [value]="type">
          {{type}}
        </mat-radio-button>
      </mat-radio-group>
      <mat-error *ngIf="form.get('ds_tipo_usuario')?.hasError('required')">Obrigatório</mat-error>
    </div>
    <div class="d-flex mt-3">
      <button mat-fab extended color="primary" type="submit" class="mx-2" [disabled]="this.form.invalid">
        <mat-icon>save</mat-icon>
        Salvar
      </button>
      <button mat-fab extended color="warn" type="button" routerLink="/principal">
        <mat-icon>close</mat-icon>
        Cancelar
      </button>
    </div>
  </form>
</div>
